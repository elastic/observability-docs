

<div id="configure-head-based-sampling"></div>

There are three ways to adjust the head-based sampling rate of your APM agents:

### Dynamic configuration

The transaction sample rate can be changed dynamically (no redeployment necessary) on a per-service and per-environment
basis with [((apm-agent)) Configuration](((kibana-ref))/agent-configuration.html) in ((kib)).

### ((kib)) API configuration

((apm-agent)) configuration exposes an API that can be used to programmatically change
your agents' sampling rate.
An example is provided in the [Agent configuration API reference](((kibana-ref))/agent-config-api.html).

### ((apm-agent)) configuration

Each agent provides a configuration value used to set the transaction sample rate.
See the relevant agent's documentation for more details:

* Go: [`ELASTIC_APM_TRANSACTION_SAMPLE_RATE`](((apm-go-ref-v))/configuration.html#config-transaction-sample-rate)
* Java: [`transaction_sample_rate`](((apm-java-ref-v))/config-core.html#config-transaction-sample-rate)
* .NET: [`TransactionSampleRate`](((apm-dotnet-ref-v))/config-core.html#config-transaction-sample-rate)
* Node.js: [`transactionSampleRate`](((apm-node-ref-v))/configuration.html#transaction-sample-rate)
* PHP: [`transaction_sample_rate`](https://www.elastic.co/guide/en/apm/agent/php/${variables['apm-php-branch']}/configuration-reference.html#config-transaction-sample-rate)
* Python: [`transaction_sample_rate`](((apm-py-ref-v))/configuration.html#config-transaction-sample-rate)
* Ruby: [`transaction_sample_rate`](((apm-ruby-ref-v))/configuration.html#config-transaction-sample-rate)

