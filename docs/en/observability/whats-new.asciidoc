[[whats-new]]
= What's new in {minor-version}

Here are the highlights of what's new and improved in {minor-version}.

Other versions:
{observability-guide-all}/8.4/whats-new.html[8.4] |
{observability-guide-all}/8.3/whats-new.html[8.3] |
{observability-guide-all}/8.2/whats-new.html[8.2] |
{observability-guide-all}/8.1/whats-new.html[8.1] |
{observability-guide-all}/8.0/whats-new.html[8.0] |
{observability-guide-all}/7.17/whats-new.html[7.17] |

// tag::whats-new[]

[discrete]
== Perform annotations-based monitoring of Kubernetes workloads with standalone {agent}

If you're using {agent} in standalone mode, you can now perform annotation
or _hints-based_ monitoring of Kubernetes workloads. This feature (already
 available for Beats users) is now available as a technical preview in 8.5 for
{agent} running in standalone mode.

This feature enables Elastic operators to provide Kubernetes cluster users with
a self-service monitoring configuration experience that is GitOps friendly.
You can enable this feature in the {agent} YAML file by uncommenting
the init container as shown:

[role="screenshot"]
image::images/hints-autodiscovery-yaml.png[Uncomment to enable hints-based monitoring]

You can download {agent} templates for https://github.com/elastic/elastic-agent/tree/main/deploy/kubernetes/elastic-agent-standalone/templates.d[~60 supported packages], and add or edit your own templates within `/etc/elastic-agent/inputs.d`.

Cluster users responsible for defining a Pod manifest can add annotations that
indicate that the Pod contains a specific package they would like to monitor.
Even if cluster users do not have access to the namespace where {agent} is
deployed, they are able to choose and configure monitoring for a specific Pod.
The following example configuration enables {agent} to monitor the
Pod using the configuration details for Redis without requiring further user action.

[role="screenshot"]
image::images/hints-config-example.png[Example annotations configuration for redis]

For more info, {fleet-guide}/elastic-agent-kubernetes-autodiscovery.html#_hints_annotations_based_autodiscover[read the docs].

[discrete]
== New Istio integration added

With a new Istio integration available in beta for version 8.5, you can collect
logs from the Istio service mesh with {agent}.

The Istio service mesh extends Kubernetes to establish a programmable
application-aware network using the powerful Envoy service proxy. Working with
both Kubernetes and traditional workloads, Istio brings universal traffic
management, telemetry, and security, to complex deployments. {integrations-docs}/istio[Read the docs] for
more information, and look out for support for metrics coming in future releases.

[role="screenshot"]
image::images/istio-integration.png[Add the Istio integration to collect logs from the Istio service mesh]

[discrete]
== View contextual Kubernetes info from APM Service Overview

You can now view Kubernetes-related metadata in the context of a service. From
the **Service Overview** page, click on the Kubernetes icon to the right of the
service name to open a popup that contains Kubernetes details such as container
images, deployments, namespaces, and replicasets.

[role="screenshot"]
image::images/apm-overview-kubernetes-context.png[View Kubernetes info in APM Service Overview]

You can also view additional information in the **Instance detail** view at the bottom of the page.

[role="screenshot"]
image::images/apm-services-instance-kubernetes.png[View Kubernetes details in  APM Service Overview]

[discrete]
== APM Storage Explorer available as beta

With Elastic Observability 8.5, APM Storage Explorer is now available as a beta feature.
The storage explorer enables you to view the total and relative storage footprint
of APM documents for each instrumented service. This provides visibility into the
storage impact of configuration changes such as sampling rates, and will help you
to improve storage requirement forecasts.

[role="screenshot"]
image::images/apm-storage-explorer.png[View storage footprint with APM Storage Explorer]

[role="screenshot"]
image::images/apm-storage-explorer-details.png[View storage details for services]

[discrete]
== Auto-instrument APM .NET Agent profiler

You can now dynamically instrument existing .NET Framework, .NET Core, and .NET
applications during startup and gain complete visibility in a matter of minutes.
SREs and DevOps engineers are now able to instrument existing .NET applications
in their environments, whether running in containers, IIS, or as Windows or
Linux services, without needing to recompile any of the binaries.

In addition, the latest version of .NET agent extends distributed tracing support
by providing auto-instrumentation for new libraries including Kafka, RabbitMQ,
MySql, Oracle and PostgreSQL.

For more info, {apm-dotnet-ref}/setup-auto-instrumentation.html[read the docs].


// end::whats-new[]
