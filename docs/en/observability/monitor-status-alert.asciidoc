[[monitor-status-alert]]
= Create a monitor status rule
++++
<titleabbrev>Monitor status</titleabbrev>
++++

Within the {uptime-app}, create a **Monitor Status** rule to receive notifications
based on errors and outages.

. To access this page, go to **{observability}** -> **Uptime**.
. At the top of the page, click **Alerts and rules** -> **Create rule**.
. Select **Monitor status rule**.

[TIP]
===============================
If you already have a query in the overview page search bar, it's populated here.
===============================

[discrete]
[[status-alert-conditions]]
== Conditions

You can specify the following thresholds for your rule.

|===

| *Status check* | Receive alerts when a monitor goes down a specified number of
times within a time range (seconds, minutes, hours, or days).

| *Availability* | Receive alerts when a monitor goes below a specified availability
threshold within a time range (days, weeks, months, or years).

|===

Let's create a rule for any monitor that shows `Down` more than three times in 10 minutes.

This rule covers all the monitors you have running. You can use a query to specify
specific monitors, and you can also have different conditions for each one.

[role="screenshot"]
image::images/monitor-status-alert.png[Monitor status rule,width=600]

The final step when creating a rule is to select one or more actions to take when
the alert is triggered.

[discrete]
[[action-types-status]]
== Action types

You can extend your rules by connecting them to actions that use the following
supported built-in integrations. Actions are {kib} services or integrations with
third-party systems that run as background tasks on the {kib} server when rule conditions are met.

You can configure action types on the <<configure-uptime-alert-connectors,Settings>> page.

[role="screenshot"]
image::images/uptime-alert-connectors.png[Uptime rule connectors,width=600]

After you select a connector, you must set the action frequency. You can choose to create a summary of alerts on each check interval or on a custom interval. For example, send email notifications that summarize the new, ongoing, and recovered alerts each hour:

[role="screenshot"]
image::images/action-alert-summary.png[Action frequency summary of alerts,width=600]
// NOTE: This is an autogenerated screenshot. Do not edit it directly.

Alternatively, you can set the action frequency such that you choose how often the action runs (for example, at each check interval, only when the alert status changes, or at a custom action interval). In this case, you must also select the specific threshold condition that affects when actions run: `Uptime Down Monitor` or `Recovered`.

[role="screenshot"]
image::images/uptime-run-when-selection.png[Action frequency for each alert,width=600]

[discrete]
[[action-variables-status]]
== Action variables

Use the default notification message or customize it.
You can add more context to the message by clicking the icon above the message text box
and selecting from a list of available variables.

[role="screenshot"]
image::images/monitor-status-alert-default-message.png[Default notification message for monitor status rules with open "Add variable" popup listing available action variables,width=600]

[discrete]
[[recovery-variables-status]]
== Alert recovery

To receive a notification when the alert recovers, select *Run when Recovered*. Use the default notification message or customize it. You can add more context to the message by clicking the icon above the message text box and selecting from a list of available variables.

[role="screenshot"]
image::images/monitor-status-alert-recovery.png[Default recovery message for monitor status rules with open "Add variable" popup listing available action variables,width=600]