[[add-logs-service-name]]
= Declare a logs service name

Adding the `service.name` field to your logs associates them with the services that generate them.
You can use this field to view and manage logs for distributed services located on multiple hosts.

To add a service name to your logs, either:

* Use the `add_fields` processor through an integration, {agent} configuration, or {filebeat} configuration.
* Map an existing field from your data stream to the `service.name` field.

[discrete]
[[use-the-add-fields-processor-to-add-a-service-name]]
== Use the add fields processor to add a service name

For log data without a service name, use the {fleet-guide}/add_fields-processor.html[add_fields processor] to add the `service.name` field.
You can add the processor in an integration's settings or in the {agent} or {filebeat} configuration.

For example, adding the `add_fields` processor to the inputs section of a standalone {agent} or {filebeat} configuration would add `your_service_name` as the `service.name` field:

[source,console]
----
processors:
    - add_fields:
        target: service
        fields:
            name: your_service_name
----

Adding the `add_fields` processor to an integration's settings would add `your_service_name` as the `service.name` field:

[role="screenshot"]
image::images/add-field-processor.png[Add the add_fields processor to an integration]

For more on defining processors, refer to {fleet-guide}/elastic-agent-processor-configuration.html[define processors].

[discrete]
[[map-an-existing-field-to-the-service-name-field]]
== Map an existing field to the service name field

For logs that with an existing field being used to represent the service name, map that field to the `service.name` field using the {ref}/field-alias.html[alias field type].
Follow these steps to update your mapping:

. From the main {kib} menu, go to **Stack Management** → **Index Management** → **Index Templates**.
. Search for the index template you want to update.
. From the **Actions** menu for that template, select **Edit**.
. Go to **Mappings**, and select **Add field**.
. Under **Field type**, select **Alias** and add `service.name` to the **Field name**.
. Under **Field path**, select the existing field you want to map to the service name.
. Select **Add field**.

For more ways to add a field to your mapping, refer to {ref}/explicit-mapping.html#add-field-mapping[add a field to an existing mapping].

[discrete]
[[service-log-level]]
== Monitor logs-only services with new services experience

The new services experience expands the **Services** inventory to allow you to monitor services that only have logs.
Declaring the `service.name` in your logs, as described in previous sections, is the first step in monitoring your log-only services.

In addition, the **log error %** metric shows the rate of error logs per minute for a given `service.name`.
To accurately measure this metric, you need to ensure your services' logs provide the `log.level`.
In cases where the `log.level` is embedded in the log message, you need to extract that information into the correct field.

For more on extracting the `log.level` refer to the following:

- For unstructured or semi-structured logs, refer to <<logs-stream-extract-log-level>>.
- For Kubernetes logs, refer to {filebeat-ref}/running-on-kubernetes.html#_parsing_json_logs[Parsing Kubernetes JSON logs].

[discrete]
[[additional-ways-to-process-data]]
== Additional ways to process data

The {stack} provides additional ways to process your data:

* **{ref}/ingest.html[Ingest pipelines]:** convert data to ECS, normalize field data, or enrich incoming data.
* **{logstash-ref}/introduction.html[Logstash]:** enrich your data using input, output, and filter plugins.